<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Teen Phone Addiction Predictor</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="/static/js/main.js"></script>
    <script src="/static/js/visualizations.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">
                    <i class="fas fa-brain"></i>
                    AI Teen Phone Addiction Predictor
                </h1>
                <p class="app-subtitle">
                    Advanced ML-powered digital wellness assessment with 99% accuracy
                </p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Panel -->
            <section class="input-panel">
                <h2><i class="fas fa-sliders-h"></i> Profile Input</h2>
                <div class="input-grid">
                    <!-- Demographics -->
                    <div class="input-group">
                        <h3>👤 Demographics</h3>
                        <div class="form-group">
                            <label for="age">Age: <span id="age-value">16</span></label>
                            <input type="range" id="age" min="13" max="19" value="16" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="gender">Gender:</label>
                            <select id="gender" class="select-input">
                                <option value="Female">Female</option>
                                <option value="Male">Male</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="school_grade">School Grade:</label>
                            <select id="school_grade" class="select-input">
                                <option value="7th">7th Grade</option>
                                <option value="8th">8th Grade</option>
                                <option value="9th">9th Grade</option>
                                <option value="10th">10th Grade</option>
                                <option value="11th">11th Grade</option>
                                <option value="12th">12th Grade</option>
                            </select>
                        </div>
                    </div>

                    <!-- Phone Usage -->
                    <div class="input-group">
                        <h3>📱 Phone Usage</h3>
                        <div class="form-group">
                            <label for="daily_usage">Daily Usage: <span id="daily_usage-value">5.0</span> hours</label>
                            <input type="range" id="daily_usage" min="0.5" max="12" value="5" step="0.5" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="phone_checks">Phone Checks: <span id="phone_checks-value">80</span> per day</label>
                            <input type="range" id="phone_checks" min="10" max="300" value="80" step="10" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="screen_before_bed">Screen Before Bed: <span id="screen_before_bed-value">1.0</span> hours</label>
                            <input type="range" id="screen_before_bed" min="0" max="4" value="1" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="weekend_usage">Weekend Usage: <span id="weekend_usage-value">6.0</span> hours</label>
                            <input type="range" id="weekend_usage" min="1" max="15" value="6" step="0.5" class="slider">
                        </div>
                    </div>

                    <!-- Mental Health -->
                    <div class="input-group">
                        <h3>🧠 Mental Health</h3>
                        <div class="form-group">
                            <label for="anxiety">Anxiety Level: <span id="anxiety-value">5.0</span>/10</label>
                            <input type="range" id="anxiety" min="1" max="10" value="5" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="depression">Depression Level: <span id="depression-value">5.0</span>/10</label>
                            <input type="range" id="depression" min="1" max="10" value="5" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="self_esteem">Self Esteem: <span id="self_esteem-value">7.0</span>/10</label>
                            <input type="range" id="self_esteem" min="1" max="10" value="7" step="0.1" class="slider">
                        </div>
                    </div>

                    <!-- Lifestyle -->
                    <div class="input-group">
                        <h3>🎯 Lifestyle</h3>
                        <div class="form-group">
                            <label for="sleep_hours">Sleep Hours: <span id="sleep_hours-value">7.0</span></label>
                            <input type="range" id="sleep_hours" min="4" max="10" value="7" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="exercise_hours">Exercise Hours: <span id="exercise_hours-value">1.0</span></label>
                            <input type="range" id="exercise_hours" min="0" max="5" value="1" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="social_interactions">Social Interactions: <span id="social_interactions-value">5.0</span>/10</label>
                            <input type="range" id="social_interactions" min="0" max="10" value="5" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="academic_performance">Academic Performance: <span id="academic_performance-value">75</span>%</label>
                            <input type="range" id="academic_performance" min="20" max="100" value="75" step="1" class="slider">
                        </div>
                    </div>

                    <!-- Additional Fields -->
                    <div class="input-group">
                        <h3>📊 Additional Info</h3>
                        <div class="form-group">
                            <label for="parental_control">Parental Control: <span id="parental_control-value">5.0</span>/10</label>
                            <input type="range" id="parental_control" min="1" max="10" value="5" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="apps_used_daily">Apps Used Daily: <span id="apps_used_daily-value">15</span></label>
                            <input type="range" id="apps_used_daily" min="3" max="30" value="15" step="1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="time_social_media">Social Media Time: <span id="time_social_media-value">2.0</span> hours</label>
                            <input type="range" id="time_social_media" min="0" max="8" value="2" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="time_gaming">Gaming Time: <span id="time_gaming-value">1.0</span> hours</label>
                            <input type="range" id="time_gaming" min="0" max="6" value="1" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="time_education">Education Time: <span id="time_education-value">1.0</span> hours</label>
                            <input type="range" id="time_education" min="0" max="4" value="1" step="0.1" class="slider">
                        </div>
                        <div class="form-group">
                            <label for="phone_usage_purpose">Primary Phone Use:</label>
                            <select id="phone_usage_purpose" class="select-input">
                                <option value="Social Media">Social Media</option>
                                <option value="Education">Education</option>
                                <option value="Gaming">Gaming</option>
                                <option value="Browsing">Browsing</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="family_communication">Family Communication: <span id="family_communication-value">6.0</span>/10</label>
                            <input type="range" id="family_communication" min="1" max="10" value="6" step="0.1" class="slider">
                        </div>
                    </div>
                </div>

                <button id="predict-btn" class="predict-btn">
                    <i class="fas fa-magic"></i>
                    Analyze Addiction Risk
                </button>
            </section>

            <!-- Results Panel -->
            <section class="results-panel" id="results-panel">
                <div class="results-grid">
                    <!-- Risk Gauge -->
                    <div class="result-card">
                        <h3><i class="fas fa-gauge-high"></i> Addiction Risk</h3>
                        <div id="risk-gauge"></div>
                        <div id="risk-text" class="risk-text"></div>
                    </div>

                    <!-- Feature Importance -->
                    <div class="result-card">
                        <h3><i class="fas fa-chart-bar"></i> Key Risk Factors</h3>
                        <canvas id="importance-chart"></canvas>
                    </div>

                    <!-- Mental Health Dashboard -->
                    <div class="result-card">
                        <h3><i class="fas fa-heart-pulse"></i> Mental Health Profile</h3>
                        <canvas id="mental-health-chart"></canvas>
                    </div>

                    <!-- Recommendations -->
                    <div class="result-card recommendations-card">
                        <h3><i class="fas fa-lightbulb"></i> Personalized Recommendations</h3>
                        <div id="recommendations-container"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Built with ❤️ using Advanced Machine Learning | 99% Prediction Accuracy</p>
        </footer>
    </div>

    <!-- Scripts at the end -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/visualizations.js') }}"></script>
    
    <!-- Debug script -->
    <script>
        console.log('🔍 HTML loaded, checking elements...');
        document.addEventListener('DOMContentLoaded', function() {
            const sliders = document.querySelectorAll('.slider');
            const button = document.getElementById('predict-btn');
            console.log('Found', sliders.length, 'sliders and button:', !!button);
        });
    </script>
</body>
</html>